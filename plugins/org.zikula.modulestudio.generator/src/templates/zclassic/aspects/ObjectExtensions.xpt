«IMPORT modulestudio»
«EXTENSION extensions::Utils»

«AROUND templates::zclassic::models::record::Behaviour::ObjectExtensions FOR Entity-»
    // DEBUG: object extension aspect starts
/**
«IF this.usesStandardFields == true-»
    // add standard fields to the table definition and data dictionary
    ObjectUtil::addStandardFieldsToTableDefinition($columns, '«this.prefix.formatForDB()»_');
    ObjectUtil::addStandardFieldsToTableDataDefinition($columnDef);
«ENDIF-»

    $tables['«fullEntityName(this)»_primary_key_column'] = '«idField(this)»';
«IF this.hasCategorization == true-»
    // enable categorization services
    $tables['«fullEntityName(this)»_db_extra_enable_categorization'] = true;
«ELSE-»
    // disable categorization services
    $tables['«fullEntityName(this)»_db_extra_enable_categorization'] = false;
«ENDIF-»

«IF this.hasAttribution == true-»
    // enable attribution services
    $tables['«fullEntityName(this)»_db_extra_enable_attribution'] = true;
«ELSE-»
    // disable attribution services
    $tables['«fullEntityName(this)»_db_extra_enable_attribution'] = false;
«ENDIF-»

«IF this.hasMetaData == true-»
    // enable meta data
    $tables['«fullEntityName(this)»_db_extra_enable_meta'] = true;
«ELSE-»
    // disable meta data
    $tables['«fullEntityName(this)»_db_extra_enable_meta'] = false;
«ENDIF-»

«IF this.hasLogging == true-»
    // enable logging services
    $tables['«fullEntityName(this)»_db_extra_enable_logging'] = true;
«ELSE-»
    // disable logging services
    $tables['«fullEntityName(this)»_db_extra_enable_logging'] = false;
«ENDIF-»
*/
    // DEBUG: object extension aspect ends
«targetDef.proceed()»
«ENDAROUND»

«AROUND templates::zclassic::models::behavior::BusinessObject::standardSortingFields FOR Entity-»
«IF this.usesStandardFields == true-»,
                     'obj_status',
                     'cr_date',
                     'cr_uid',
                     'lu_date',
                     'lu_uid'«ENDIF-»«targetDef.proceed()»«""-»
«ENDAROUND»
